# 8장. 경계

# 8장 경계

Todo:  외부 코드를 우리 코드에 깔끔하게 통합하기

# 외부코드 사용하기

## 문제점1: 입장차이

- API 제공자: 더 많은 사람들이 내 API를 적용하도록
- 사용자: API가 내 요구에 더 집중되도록
    - ex. 내가 원하는 Response만 있으면 좋겠다.

## 문제점2: 수정 가능성

- 사용자: 라이브러리를 썼는데, 나중에 변경되면 어떻하지?

## 경계 인터페이스를 어떻게 써야할까?

- 경계 인터페이스를 여기저기 넘기면 라이브러리 수정 시, 수정할 부분이 많아진다.
- 경계 인터페이스를 캡슐화하는 등 인터페이스를 이용하는 클래스나 클래스 계열 밖으로 노출시키지 않도록 주의한다.

# 경계 살피고 익히기

- 타사 라이브러리를 어떻게 익히고 사용하면 좋을까?

## 학습 테스트

- 간단한 테스트 케이스(실제 사용하려는 방식)를 작성하여 외부코드를 익힌다.
- 프로그램에서 사용하려는 방식대로 외부 API를 호출
- (거의 직접 써보고 테스트로 문서화 하는 느낌 인듯..)

# 아직 존재하지 않는 코드 사용하기
![image](https://user-images.githubusercontent.com/75591617/210240128-9c9df9be-d25e-4758-8a0f-601f26148e50.png)

![image](https://user-images.githubusercontent.com/75591617/210240148-aed13550-4244-4fdb-baf9-1e811fe17de1.png)

- 존재하지 않는 부분을 interface로 감싸서 제어한다.
- Adapter를 이용하여 API 사용을 캡슐화하여, API가 바뀔 때 영향받는 코드를 제한한다.
    - 우리가 제어할 수 있는 API로 변환한다.

# 결론

- 경계에 있는 코드는 깔끔하게 분리한다.
- 기대치를 정의하는 테스트 케이스를 작성하면 좋다.
- 통제 가능한 우리 코드에 의존하도록 다음과 같이 처리하자
    - 외부 패키지를 호출하는 코드를 가능한 줄이자
    - 새로운 클래스로 경계를 감싸자
    - Adapter 패턴을 사용하여 외부 라이브러리를 우리가 제공하는 API 처럼 변환하자
