# 2. 컴포넌트 응집도

> 어떤 클래스를 어떤 컴포넌트에 포함시켜야 하는지에 대한 결정 방법 (재사용성과 개발 가능성의 균형)
> 
1. 재사용/릴리스 등가 원칙 (Reuse/Release Equivalence Principle)
2. 공통 폐쇄 원칙 (Common Closure Principle)
3. 공통 재사용 원칙 (Common Reuse Principle)

## 2-1. REP

> 재사용 단위는 릴리스단위와 동일하다.
> 
- 컴포넌트가 릴리스 절차를통해 추적 관리되지 않는다면 재사용이 어렵다.
    - 버전에 따라 컴포넌트들이 서로 호환되는지 확인해야함
    - 버전에 따라 어떤 점이 변했는지 확인해야함
- 단일 컴포넌트는 응집성이 높은 클래스와 모듈로 구성되어야 한다.

## 2-2. CCP

> 같은 이유로 동일한 시점에 변경되는 클래스는 같은 컴포넌트 묶고, 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리하라
> 
- SRP의 컴포넌트 버전
- 단일 컴포넌트도 변경의 이유가 여러 개라면 안된다. → 변경해야할 때, 변경해야할 컴포넌트를 최소화
- 일반적으로 유지보수성이 재사용성보다 더 중요함
    - 변경이 여러 컴포넌트에서 분산되어 일어나는 것 보다는, 하나에서 많이 일어나는 것이 낫다.
    - 변경을 단일 컴포넌트로 제한한다면, 해당 부분만 재배포하면 된다.
- 같이 재사용되는 경향이 있는 모듈과 클래스는 동일 컴포넌트에 포함

## 2-3. CRP

> 컴포넌트 사용자들을 필요하지 않는 것에 강하게 의존하게 하지마라
> 
- 같이 재사용되는 경향이 있는 클래스와 컴포넌트는 같은 컴포넌트에 포함하라
- 강하게 결합되지 않은 클래스는 같이 묶으면 안된다.
- ISP의 포괄 버전
    - 사용하지 않는 클래스를 가진 컴포넌트에 의존하지 말자

## 2-4. 정리

![image](https://github.com/lghihl/CleanCode-Archetecture/assets/75591617/7c4134a0-e468-425e-8d22-578b290cef3b)

- 균형
    - REP, CRP에만 집중 → 컴포넌트 변경이 너무 빈번함
    - REP, CCP에만 집중 → 불필요한 릴리스 빈번
    - CRP, CCP → 재사용이 어려움
- 현재 개발팀에게 중요한 것을 중점으로 하자
    - 개발 초창기 중요도: CCP(개발 가능성) > REP
    - 개발이 진행될수록 점점 왼쪽(REP 방향)이 중요해진다.
